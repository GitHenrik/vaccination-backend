(this["webpackJsonpvaccine-exercise-2021"]=this["webpackJsonpvaccine-exercise-2021"]||[]).push([[0],{119:function(e,t,n){},143:function(e,t,n){},298:function(e,t,n){"use strict";n.r(t);var a,r,c,i,d,o,s,u,l,j,b,h,O=n(0),g=n.n(O),x=n(27),f=n.n(x),p=(n(119),n(70)),y=n.n(p),v=n(103),m=n(5),C=n(31),D=n.n(C),S=(n(142),n(143),n(7)),w=n(8),B=w.a.div(a||(a=Object(S.a)(["\n  display: flex;\n  flex-direction: row;\n  background: linear-gradient(#93C6D6, #A7ACD9);\n  height: 100%;\n"]))),q=w.a.div(r||(r=Object(S.a)(['\n  font-family: "Open Sans";\n  font-style: normal;\n  color: #f2f2f2;\n  display: flex;\n  flex-direction: column;\n  padding: 0 1rem 1rem 1rem;\n  width: 40%;\n  border-right: 2px solid #444444;\n  min-width: 260px;\n']))),T=w.a.div(c||(c=Object(S.a)(['\n  padding-bottom: 5rem;\n  padding-left: 1rem;\n  font-family: "Open Sans";\n  font-style: normal;\n  line-height: 1.25rem;\n  display: flex;\n  flex-direction: column;\n  width: 100%;\n']))),k=w.a.div(i||(i=Object(S.a)(["\nmargin: 0;\nborder: 0;\nmin-width: 768px;\nbackground: radial-gradient(#aaaaaa, #666666);\ndisplay: flex;\njustify-content: space-around;\nalign-items: center;\nborder-bottom: 2px solid #444444;\n"]))),z=w.a.div(d||(d=Object(S.a)(["\nmin-width: 768px;\nheight: 4rem;\nbackground: radial-gradient(#aaaaaa, #666666);\ndisplay: flex;\nflex-direction: row-reverse;\nalign-items: center;\na {\n  background: rgba(255, 255, 255, 0.5);\n  padding: 0.5rem;\n  border-radius: 0.5rem;\n  text-decoration: none;\n  margin-right: 1rem;\n}\n"]))),P=w.a.div(o||(o=Object(S.a)(["\nwidth: 90%;\nalign-items: left;\npadding-bottom: 1rem;\npadding-top: 1rem;\n"]))),A=w.a.div(s||(s=Object(S.a)(["\npadding: 0.5rem 0 0.5rem 1rem;\n"]))),U=w.a.div(u||(u=Object(S.a)(["\nbackground-color: rgba(255, 255, 255, 0.5);\nborder-radius: 0.75rem;\npadding: 0.5rem;\n"]))),F=w.a.div(l||(l=Object(S.a)(["\nwidth: 80%;\nmax-width: 550px;\nmin-width: 350px;\npadding: 0.5rem;\nbackground-color: #eeeeee;\nborder: 1px solid #777777;\nborder-radius: 0.75rem;\nmargin: 0.5rem;\n"]))),V=w.a.div(j||(j=Object(S.a)(["\npadding: 3rem;\n"]))),W=w.a.h1(b||(b=Object(S.a)(["\nfont-size: 1.5rem;\nmargin: 0;\ncolor: #000000;\npadding: 1.5rem 0;\n"]))),E=w.a.h2(h||(h=Object(S.a)(["\nfont-size: 1.25rem;\nmargin: 0;\npadding: 0.5rem 0;\n"]))),H=n(107),Z=n(3),M=function(){return Object(Z.jsx)(B,{children:Object(Z.jsxs)(V,{children:[Object(Z.jsx)(W,{children:"Loading..."}),Object(Z.jsx)(H.a,{speed:3,width:700,height:360,backgroundColor:"#f3f3f3",foregroundColor:"#ecebeb"})]})})},I=n(11),Y={antiquaPrimary:"rgba(153, 102, 255, 0.2)",antiquaSecondary:"rgba(153, 102, 255, 1)",solarBuddhicaPrimary:"rgba(255, 206, 86, 0.2)",solarBuddhicaSecondary:"rgba(255, 206, 86, 1)",zerpfyPrimary:"rgba(75, 192, 192, 0.2)",zerpfySecondary:"rgba(75, 192, 192, 1)",usedPrimary:"rgba(54, 162, 235, 0.2)",usedSecondary:"rgba(54, 162, 235, 1)",unusedPrimary:"rgba(255, 99, 132, 0.2)",unusedSecondary:"rgba(255, 99, 132, 1)"},L=function(e){var t=e.antiqua,n=e.solarBuddhica,a=e.zerpfy,r={labels:["Antiqua vaccines","SolarBuddhica vaccines","Zerpfy vaccines"],datasets:[{label:"# of ordered injections",data:[t.vaccineCount,n.vaccineCount,a.vaccineCount],backgroundColor:[Y.antiquaPrimary,Y.solarBuddhicaPrimary,Y.zerpfyPrimary],borderColor:[Y.antiquaSecondary,Y.solarBuddhicaSecondary,Y.zerpfySecondary],borderWidth:1}]};return Object(Z.jsx)(I.b,{data:r,options:{plugins:{title:{display:!0,text:"Number of vaccines by producer"}}}})},N=function(e){var t={labels:["Used vaccines","Unused vaccines"],datasets:[{label:"# of all vaccines and # of unused vaccines",data:[e.usedVaccineCount,e.unusedVaccineCount],backgroundColor:[Y.usedPrimary,Y.unusedPrimary],borderColor:[Y.usedSecondary,Y.unusedSecondary],borderWidth:1}]};return Object(Z.jsx)(I.c,{data:t,options:{plugins:{title:{display:!0,text:"Comparison between used and unused vaccines"}}}})},G=function(e){var t=e.antiqua,n=e.solarBuddhica,a=e.zerpfy,r={labels:["Antiqua orders","SolarBuddhica orders","Zerpfy orders"],datasets:[{label:"# of orders",data:[t.orderCount,n.orderCount,a.orderCount],backgroundColor:[Y.antiquaPrimary,Y.solarBuddhicaPrimary,Y.zerpfyPrimary],borderColor:[Y.antiquaSecondary,Y.solarBuddhicaSecondary,Y.zerpfySecondary],borderWidth:1}]};return Object(Z.jsx)(I.a,{data:r,options:{indexAxis:"y",elements:{bar:{borderWidth:2}},responsive:!0,plugins:{legend:{position:"top"},title:{display:!0,text:"Number of orders by producer"}}}})},J=function(e){var t={labels:["Orders","Injections"],datasets:[{label:"# of events on exact date",data:[e.ordersOnDate,e.injectionsOnDate],backgroundColor:[Y.antiquaPrimary,Y.zerpfyPrimary],borderColor:[Y.antiquaSecondary,Y.zerpfySecondary],borderWidth:1}]};return Object(Z.jsx)(I.a,{data:t,options:{indexAxis:"y",elements:{bar:{borderWidth:2}},responsive:!0,plugins:{legend:{position:"top"},title:{display:!0,text:"Events on the selected date"}}}})},_=function(e){var t={labels:["Total given injections","Total expired injections","Usable injections"],datasets:[{label:"# of all events",data:[e.injectedUpToDate,e.expiredUpToDate,e.usableOnDate],backgroundColor:[Y.antiquaPrimary,Y.solarBuddhicaPrimary,Y.zerpfyPrimary],borderColor:[Y.antiquaSecondary,Y.solarBuddhicaSecondary,Y.zerpfySecondary],borderWidth:1}]};return Object(Z.jsx)(I.a,{data:t,options:{indexAxis:"y",elements:{bar:{borderWidth:2}},responsive:!0,plugins:{legend:{position:"top"},title:{display:!0,text:"Aggregated data until the selected date"}}}})},K=function(e){return Object(Z.jsxs)(Z.Fragment,{children:[e.showDateCharts&&Object(Z.jsxs)(P,{children:[Object(Z.jsx)(U,{children:Object(Z.jsx)(E,{children:"Date-specific charts"})}),Object(Z.jsxs)(F,{children:["Injections expiring in the next 10 days: ",Object(Z.jsx)("b",{children:e.tenDayExpirations})]}),Object(Z.jsx)(F,{children:Object(Z.jsx)(J,{injectionsOnDate:e.injectionsOnDate,ordersOnDate:e.ordersOnDate})}),Object(Z.jsx)(F,{children:Object(Z.jsx)(_,{injectedUpToDate:e.injectedUpToDate,expiredUpToDate:e.expiredUpToDate,usableOnDate:e.usableOnDate})})]}),e.showAggregatedCharts&&Object(Z.jsxs)(P,{children:[Object(Z.jsx)(U,{children:Object(Z.jsx)(E,{children:"Aggregated charts"})}),Object(Z.jsx)(F,{children:Object(Z.jsx)(L,{antiqua:e.antiqua,solarBuddhica:e.solarBuddhica,zerpfy:e.zerpfy})}),Object(Z.jsx)(F,{children:Object(Z.jsx)(G,{antiqua:e.antiqua,solarBuddhica:e.solarBuddhica,zerpfy:e.zerpfy})}),Object(Z.jsx)(F,{children:Object(Z.jsx)(N,{usedVaccineCount:e.usedVaccineCount,unusedVaccineCount:e.unusedVaccineCount})})]})]})},Q=function(e){var t=e.antiqua,n=e.solarBuddhica,a=e.zerpfy,r=e.totalOrderCount,c=e.totalVaccineCount,i=e.injections;return Object(Z.jsxs)(Z.Fragment,{children:[Object(Z.jsx)(P,{children:Object(Z.jsx)(W,{children:"General information"})}),Object(Z.jsx)(P,{children:Object(Z.jsxs)(U,{children:[Object(Z.jsx)(E,{children:"How many orders and vaccines have arrived in total?"}),Object(Z.jsxs)(A,{children:[Object(Z.jsxs)("div",{children:["All in all, there are this many orders in total: ",r]}),Object(Z.jsxs)("div",{children:["All in all, there are this many vaccines in total: ",c]})]})]})}),Object(Z.jsx)(P,{children:Object(Z.jsxs)(U,{children:[Object(Z.jsx)(E,{children:"How many of the vaccinations have been used?"}),Object(Z.jsx)(A,{children:Object(Z.jsxs)("div",{children:["This many vaccinations have been distributed: ",i]})})]})}),Object(Z.jsx)(P,{children:Object(Z.jsxs)(U,{children:[Object(Z.jsx)(E,{children:"How many orders/vaccines per producer?"}),Object(Z.jsxs)(A,{children:[Object(Z.jsxs)("div",{children:["There are this many Antiqua-vaccination orders: ",t.orderCount]}),Object(Z.jsxs)("div",{children:["Antiqua vaccine count: ",t.vaccineCount]}),Object(Z.jsxs)("div",{children:["There are this many SolarBuddhica-vaccination orders: ",n.orderCount]}),Object(Z.jsxs)("div",{children:["SolarBuddhica vaccine count: ",n.vaccineCount]}),Object(Z.jsxs)("div",{children:["There are this many Zerpfy-vaccination orders: ",a.orderCount]}),Object(Z.jsxs)("div",{children:["Zerpfy vaccine count: ",a.vaccineCount]})]})]})})]})},R=n(110),X=n.n(R),$=function(e){return Object(Z.jsx)(P,{children:Object(Z.jsxs)(U,{children:[Object(Z.jsx)(E,{children:"Select a date to inspect!"}),Object(Z.jsxs)(A,{children:[Object(Z.jsx)(X.a,{selected:e.selectedDate,onChange:function(t){return e.handleDateChange(t)}}),Object(Z.jsx)("div",{children:Object(Z.jsxs)("i",{children:["Selected date: ",e.selectedDate.toString()]})})]})]})})},ee=function(){return Object(Z.jsx)(z,{children:Object(Z.jsx)("a",{href:"https://github.com/GitHenrik/vaccine-exercise-2021",target:"_blank",rel:"noopener noreferrer",children:"Source code"})})},te=function(){return Object(Z.jsxs)(k,{children:[Object(Z.jsx)(W,{children:"VacciNex"}),Object(Z.jsx)(E,{children:Object(Z.jsx)("i",{children:"Antiqua - SolarBuddhica - Zerpfy"})})]})},ne=function(e){return e&&0!==e.length?e.reduce((function(e,t){return{injections:e.injections+t.injections}})).injections:0},ae=function(e,t,n){for(var a=ie(e,n),r=oe(t,n),c=0,i=0;i<a[1].length;i++)c+=a[1][i].injections;for(var d=0,o=0;o<r[0].length;o++)for(var s=0;s<a[1].length;s++)if(r[0][o].sourceBottle===a[1][s].id){d++;break}return{usable:c-d,injected:r[0].length}},re=function(e,t,n){var a=ce(e,t,n),r=new Date(n);return r.setDate(r.getDate()+10),ce(e,t,r)-a},ce=function(e,t,n){for(var a=ie(e,n),r=oe(t,n),c=0,i=0;i<a[0].length;i++)c+=a[0][i].injections;for(var d=0;d<r[0].length;d++)for(var o=0;o<a[0].length;o++)if(r[0][d].sourceBottle===a[0][o].id){c--;break}return c},ie=function(e,t){for(var n=[],a=[],r=0,c=2592e6,i=t.getTime(),d=0;d<e.length;d++)for(var o=0;o<e[d].length;o++)i-(r=new Date(e[d][o].arrived).getTime())>c&&n.push(e[d][o]),i-r<=c&&i-r>=0&&a.push(e[d][o]);return[n,a]},de=function(e,t){for(var n=0,a=new Date,r=0;r<e.length;r++)(a=new Date(e[r].arrived)).getFullYear()===t.getFullYear()&&a.getMonth()===t.getMonth()&&a.getDate()===t.getDate()&&n++;return n},oe=function(e,t){for(var n=t.getTime(),a=[],r=[],c=0;c<e.length;c++)n-new Date(e[c].vaccinationDate).getTime()>0?a.push(e[c]):r.push(e[c]);return[a,r]};n(121).config();var se=function(){var e={data:[],orderCount:0,vaccineCount:0},t=Object(O.useState)(!0),n=Object(m.a)(t,2),a=n[0],r=n[1],c=Object(O.useState)([]),i=Object(m.a)(c,2),d=i[0],o=i[1],s=Object(O.useState)(e),u=Object(m.a)(s,2),l=u[0],j=u[1],b=Object(O.useState)(e),h=Object(m.a)(b,2),g=h[0],x=h[1],f=Object(O.useState)(e),p=Object(m.a)(f,2),C=p[0],S=p[1],w=Object(O.useState)(new Date("2021-04-12T11:10:06.473587Z")),k=Object(m.a)(w,2),z=k[0],P=k[1],A=Object(O.useState)(!0),U=Object(m.a)(A,2),F=U[0],V=U[1],W=Object(O.useState)(!1),H=Object(m.a)(W,2),I=H[0],Y=H[1],L=Object(O.useState)(!1),N=Object(m.a)(L,2),G=N[0],J=N[1],_=Object(O.useState)(0),R=Object(m.a)(_,2),X=R[0],ie=R[1],oe=Object(O.useState)(0),se=Object(m.a)(oe,2),ue=se[0],le=se[1],je=Object(O.useState)(0),be=Object(m.a)(je,2),he=be[0],Oe=be[1],ge=Object(O.useState)(0),xe=Object(m.a)(ge,2),fe=xe[0],pe=xe[1],ye=Object(O.useState)(0),ve=Object(m.a)(ye,2),me=ve[0],Ce=ve[1],De=Object(O.useState)(0),Se=Object(m.a)(De,2),we=Se[0],Be=Se[1],qe=Object(O.useState)(0),Te=Object(m.a)(qe,2),ke=Te[0],ze=Te[1],Pe=Object(O.useState)(0),Ae=Object(m.a)(Pe,2),Ue=Ae[0],Fe=Ae[1],Ve=Object(O.useState)(0),We=Object(m.a)(Ve,2),Ee=We[0],He=We[1],Ze=Object(O.useState)(0),Me=Object(m.a)(Ze,2),Ie=Me[0],Ye=Me[1];Object(O.useEffect)((function(){return Le(),setTimeout((function(){return r(!1)}),2e3),function(){}}),[]);var Le=function(){var e=Object(v.a)(y.a.mark((function e(){var t,n,a,r,c,i,d;return y.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,D.a.get("".concat("","/Antiqua"));case 2:return t=e.sent,n=ne(t.data),j({data:t.data,orderCount:t.data.length,vaccineCount:n}),ze((function(e){return e+n})),Fe((function(e){return e+t.data.length})),e.next=9,D.a.get("".concat("","/SolarBuddhica"));case 9:return a=e.sent,r=ne(a.data),x({data:a.data,orderCount:a.data.length,vaccineCount:r}),ze((function(e){return e+r})),Fe((function(e){return e+a.data.length})),e.next=16,D.a.get("".concat("","/Zerpfy"));case 16:return c=e.sent,i=ne(c.data),S({data:c.data,orderCount:c.data.length,vaccineCount:i}),ze((function(e){return e+i})),Fe((function(e){return e+c.data.length})),e.next=23,D.a.get("".concat("","/vaccinations"));case 23:d=e.sent,o(d.data),He(d.data.length),Ye(n+r+i-d.data.length);case 27:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();return a?Object(Z.jsxs)(Z.Fragment,{children:[Object(Z.jsx)(te,{}),Object(Z.jsx)(M,{}),Object(Z.jsx)(ee,{})]}):Object(Z.jsxs)(Z.Fragment,{children:[Object(Z.jsx)(te,{}),Object(Z.jsxs)(B,{children:[Object(Z.jsxs)(q,{children:[Object(Z.jsx)($,{selectedDate:z,handleDateChange:function(e){P(e),ie(de(l.data,e)+de(g.data,e)+de(C.data,e)),le(function(e,t){for(var n=0,a=new Date,r=0;r<e.length;r++)(a=new Date(e[r].vaccinationDate)).getFullYear()===t.getFullYear()&&a.getMonth()===t.getMonth()&&a.getDate()===t.getDate()&&n++;return n}(d,e));var t=function(e,t,n){var a=ae(e,t,n),r=re(e,t,n),c=ce(e,t,n);return{usable:a.usable,injected:a.injected,tenDayExpirations:r,expiredUpToDate:c}}([l.data,g.data,C.data],d,e);Ce(t.usable),pe(t.injected),Be(t.tenDayExpirations),Oe(t.expiredUpToDate),V(!1),Y(!0)}}),Object(Z.jsxs)("button",{onClick:function(){return V(!F)},children:[F?"Hide ":"Show ","general data"]}),Object(Z.jsxs)("button",{onClick:function(){return Y(!I)},children:[I?"Hide ":"Display ","date-specific charts"]}),Object(Z.jsxs)("button",{onClick:function(){return J(!G)},children:[G?"Hide ":"Display ","aggregated charts"]})]}),Object(Z.jsxs)(T,{children:[!F&&!G&&!I&&Object(Z.jsx)(E,{children:"Select something to display from the side bar!"}),F&&Object(Z.jsx)(Q,{antiqua:l,solarBuddhica:g,zerpfy:C,totalOrderCount:Ue,totalVaccineCount:ke,injections:d.length}),Object(Z.jsx)(K,{showAggregatedCharts:G,showDateCharts:I,injectionsOnDate:ue,ordersOnDate:X,injectedUpToDate:fe,expiredUpToDate:he,usableOnDate:me,tenDayExpirations:we,antiqua:l,solarBuddhica:g,zerpfy:C,usedVaccineCount:Ee,unusedVaccineCount:Ie})]})]}),Object(Z.jsx)(ee,{})]})},ue=function(e){e&&e instanceof Function&&n.e(3).then(n.bind(null,305)).then((function(t){var n=t.getCLS,a=t.getFID,r=t.getFCP,c=t.getLCP,i=t.getTTFB;n(e),a(e),r(e),c(e),i(e)}))};f.a.render(Object(Z.jsx)(g.a.StrictMode,{children:Object(Z.jsx)(se,{})}),document.getElementById("root")),ue()}},[[298,1,2]]]);
//# sourceMappingURL=main.24cc327f.chunk.js.map